.\" Automatically generated by Pod::Man 2.16 (Pod::Simple 3.05)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sh \" Subsection heading
.br
.if t .Sp
.ne 5
.PP
\fB\\$1\fR
.PP
..
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.Sh), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.ie \nF \{\
.    de IX
.    tm Index:\\$1\t\\n%\t"\\$2"
..
.    nr % 0
.    rr F
.\}
.el \{\
.    de IX
..
.\}
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "FFMPEG 1"
.TH FFMPEG 1 "2010-01-26" " " " "
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH "NAME"
ffmpeg \- FFmpeg video converter
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
ffmpeg [[infile options][\fB\-i\fR \fIinfile\fR]]... {[outfile options] \fIoutfile\fR}...
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
As a general rule, options are applied to the next specified
file. Therefore, order is important, and you can have the same
option on the command line multiple times. Each occurrence is
then applied to the next input or output file.
.PP
* To set the video bitrate of the output file to 64kbit/s:
.PP
.Vb 1
\&        ffmpeg \-i input.avi \-b 64k output.avi
.Ve
.PP
* To force the frame rate of the output file to 24 fps:
.PP
.Vb 1
\&        ffmpeg \-i input.avi \-r 24 output.avi
.Ve
.PP
* To force the frame rate of the input file (valid for raw formats only)
to 1 fps and the frame rate of the output file to 24 fps:
.PP
.Vb 1
\&        ffmpeg \-r 1 \-i input.m2v \-r 24 output.avi
.Ve
.PP
The format option may be needed for raw input files.
.PP
By default, FFmpeg tries to convert as losslessly as possible: It
uses the same audio and video parameters for the outputs as the one
specified for the inputs.
.SH "OPTIONS"
.IX Header "OPTIONS"
.Sh "Main options"
.IX Subsection "Main options"
.IP "\fB\-L\fR" 4
.IX Item "-L"
Show license.
.IP "\fB\-h, \-?, \-help, \-\-help\fR" 4
.IX Item "-h, -?, -help, --help"
Show help.
.IP "\fB\-version\fR" 4
.IX Item "-version"
Show version.
.IP "\fB\-formats\fR" 4
.IX Item "-formats"
Show available formats.
.Sp
The fields preceding the format names have the following meanings:
.RS 4
.IP "\fBD\fR" 4
.IX Item "D"
Decoding available
.IP "\fBE\fR" 4
.IX Item "E"
Encoding available
.RE
.RS 4
.RE
.IP "\fB\-codecs\fR" 4
.IX Item "-codecs"
Show available codecs.
.Sp
The fields preceding the codec names have the following meanings:
.RS 4
.IP "\fBD\fR" 4
.IX Item "D"
Decoding available
.IP "\fBE\fR" 4
.IX Item "E"
Encoding available
.IP "\fBV/A/S\fR" 4
.IX Item "V/A/S"
Video/audio/subtitle codec
.IP "\fBS\fR" 4
.IX Item "S"
Codec supports slices
.IP "\fBD\fR" 4
.IX Item "D"
Codec supports direct rendering
.IP "\fBT\fR" 4
.IX Item "T"
Codec can handle input truncated at random locations instead of only at frame boundaries
.RE
.RS 4
.RE
.IP "\fB\-bsfs\fR" 4
.IX Item "-bsfs"
Show available bitstream filters.
.IP "\fB\-protocols\fR" 4
.IX Item "-protocols"
Show available protocols.
.IP "\fB\-filters\fR" 4
.IX Item "-filters"
Show available libavfilter filters.
.IP "\fB\-pix_fmts\fR" 4
.IX Item "-pix_fmts"
Show available pixel formats.
.IP "\fB\-loglevel\fR \fIloglevel\fR" 4
.IX Item "-loglevel loglevel"
Set the logging level used by the library.
\&\fIloglevel\fR is a number or a string containing one of the following values:
.RS 4
.IP "\fBquiet\fR" 4
.IX Item "quiet"
.PD 0
.IP "\fBpanic\fR" 4
.IX Item "panic"
.IP "\fBfatal\fR" 4
.IX Item "fatal"
.IP "\fBerror\fR" 4
.IX Item "error"
.IP "\fBwarning\fR" 4
.IX Item "warning"
.IP "\fBinfo\fR" 4
.IX Item "info"
.IP "\fBverbose\fR" 4
.IX Item "verbose"
.IP "\fBdebug\fR" 4
.IX Item "debug"
.RE
.RS 4
.RE
.IP "\fB\-f\fR \fIfmt\fR" 4
.IX Item "-f fmt"
.PD
Force format.
.IP "\fB\-i\fR \fIfilename\fR" 4
.IX Item "-i filename"
input file name
.IP "\fB\-y\fR" 4
.IX Item "-y"
Overwrite output files.
.IP "\fB\-t\fR \fIduration\fR" 4
.IX Item "-t duration"
Restrict the transcoded/captured video sequence
to the duration specified in seconds.
\&\f(CW\*(C`hh:mm:ss[.xxx]\*(C'\fR syntax is also supported.
.IP "\fB\-fs\fR \fIlimit_size\fR" 4
.IX Item "-fs limit_size"
Set the file size limit.
.IP "\fB\-ss\fR \fIposition\fR" 4
.IX Item "-ss position"
Seek to given time position in seconds.
\&\f(CW\*(C`hh:mm:ss[.xxx]\*(C'\fR syntax is also supported.
.IP "\fB\-itsoffset\fR \fIoffset\fR" 4
.IX Item "-itsoffset offset"
Set the input time offset in seconds.
\&\f(CW\*(C`[\-]hh:mm:ss[.xxx]\*(C'\fR syntax is also supported.
This option affects all the input files that follow it.
The offset is added to the timestamps of the input files.
Specifying a positive offset means that the corresponding
streams are delayed by 'offset' seconds.
.IP "\fB\-timestamp\fR \fItime\fR" 4
.IX Item "-timestamp time"
Set the timestamp.
.IP "\fB\-metadata\fR \fIkey\fR\fB=\fR\fIvalue\fR" 4
.IX Item "-metadata key=value"
Set a metadata key/value pair.
.Sp
For example, for setting the title in the output file:
.Sp
.Vb 1
\&        ffmpeg \-i in.avi \-metadata title="my title" out.flv
.Ve
.IP "\fB\-v\fR \fInumber\fR" 4
.IX Item "-v number"
Set the logging verbosity level.
.IP "\fB\-target\fR \fItype\fR" 4
.IX Item "-target type"
Specify target file type (\*(L"vcd\*(R", \*(L"svcd\*(R", \*(L"dvd\*(R", \*(L"dv\*(R", \*(L"dv50\*(R", \*(L"pal-vcd\*(R",
\&\*(L"ntsc-svcd\*(R", ... ). All the format options (bitrate, codecs,
buffer sizes) are then set automatically. You can just type:
.Sp
.Vb 1
\&        ffmpeg \-i myfile.avi \-target vcd /tmp/vcd.mpg
.Ve
.Sp
Nevertheless you can specify additional options as long as you know
they do not conflict with the standard, as in:
.Sp
.Vb 1
\&        ffmpeg \-i myfile.avi \-target vcd \-bf 2 /tmp/vcd.mpg
.Ve
.IP "\fB\-dframes\fR \fInumber\fR" 4
.IX Item "-dframes number"
Set the number of data frames to record.
.IP "\fB\-scodec\fR \fIcodec\fR" 4
.IX Item "-scodec codec"
Force subtitle codec ('copy' to copy stream).
.IP "\fB\-newsubtitle\fR" 4
.IX Item "-newsubtitle"
Add a new subtitle stream to the current output stream.
.IP "\fB\-slang\fR \fIcode\fR" 4
.IX Item "-slang code"
Set the \s-1ISO\s0 639 language code (3 letters) of the current subtitle stream.
.Sh "Video Options"
.IX Subsection "Video Options"
.IP "\fB\-b\fR \fIbitrate\fR" 4
.IX Item "-b bitrate"
Set the video bitrate in bit/s (default = 200 kb/s).
.IP "\fB\-vframes\fR \fInumber\fR" 4
.IX Item "-vframes number"
Set the number of video frames to record.
.IP "\fB\-r\fR \fIfps\fR" 4
.IX Item "-r fps"
Set frame rate (Hz value, fraction or abbreviation), (default = 25).
.IP "\fB\-s\fR \fIsize\fR" 4
.IX Item "-s size"
Set frame size. The format is \fBwxh\fR (ffserver default = 160x128, ffmpeg default = same as source).
The following abbreviations are recognized:
.RS 4
.IP "\fBsqcif\fR" 4
.IX Item "sqcif"
128x96
.IP "\fBqcif\fR" 4
.IX Item "qcif"
176x144
.IP "\fBcif\fR" 4
.IX Item "cif"
352x288
.IP "\fB4cif\fR" 4
.IX Item "4cif"
704x576
.IP "\fB16cif\fR" 4
.IX Item "16cif"
1408x1152
.IP "\fBqqvga\fR" 4
.IX Item "qqvga"
160x120
.IP "\fBqvga\fR" 4
.IX Item "qvga"
320x240
.IP "\fBvga\fR" 4
.IX Item "vga"
640x480
.IP "\fBsvga\fR" 4
.IX Item "svga"
800x600
.IP "\fBxga\fR" 4
.IX Item "xga"
1024x768
.IP "\fBuxga\fR" 4
.IX Item "uxga"
1600x1200
.IP "\fBqxga\fR" 4
.IX Item "qxga"
2048x1536
.IP "\fBsxga\fR" 4
.IX Item "sxga"
1280x1024
.IP "\fBqsxga\fR" 4
.IX Item "qsxga"
2560x2048
.IP "\fBhsxga\fR" 4
.IX Item "hsxga"
5120x4096
.IP "\fBwvga\fR" 4
.IX Item "wvga"
852x480
.IP "\fBwxga\fR" 4
.IX Item "wxga"
1366x768
.IP "\fBwsxga\fR" 4
.IX Item "wsxga"
1600x1024
.IP "\fBwuxga\fR" 4
.IX Item "wuxga"
1920x1200
.IP "\fBwoxga\fR" 4
.IX Item "woxga"
2560x1600
.IP "\fBwqsxga\fR" 4
.IX Item "wqsxga"
3200x2048
.IP "\fBwquxga\fR" 4
.IX Item "wquxga"
3840x2400
.IP "\fBwhsxga\fR" 4
.IX Item "whsxga"
6400x4096
.IP "\fBwhuxga\fR" 4
.IX Item "whuxga"
7680x4800
.IP "\fBcga\fR" 4
.IX Item "cga"
320x200
.IP "\fBega\fR" 4
.IX Item "ega"
640x350
.IP "\fBhd480\fR" 4
.IX Item "hd480"
852x480
.IP "\fBhd720\fR" 4
.IX Item "hd720"
1280x720
.IP "\fBhd1080\fR" 4
.IX Item "hd1080"
1920x1080
.RE
.RS 4
.RE
.IP "\fB\-aspect\fR \fIaspect\fR" 4
.IX Item "-aspect aspect"
Set aspect ratio (4:3, 16:9 or 1.3333, 1.7777).
.IP "\fB\-croptop\fR \fIsize\fR" 4
.IX Item "-croptop size"
Set top crop band size (in pixels).
.IP "\fB\-cropbottom\fR \fIsize\fR" 4
.IX Item "-cropbottom size"
Set bottom crop band size (in pixels).
.IP "\fB\-cropleft\fR \fIsize\fR" 4
.IX Item "-cropleft size"
Set left crop band size (in pixels).
.IP "\fB\-cropright\fR \fIsize\fR" 4
.IX Item "-cropright size"
Set right crop band size (in pixels).
.IP "\fB\-padtop\fR \fIsize\fR" 4
.IX Item "-padtop size"
Set top pad band size (in pixels).
.IP "\fB\-padbottom\fR \fIsize\fR" 4
.IX Item "-padbottom size"
Set bottom pad band size (in pixels).
.IP "\fB\-padleft\fR \fIsize\fR" 4
.IX Item "-padleft size"
Set left pad band size (in pixels).
.IP "\fB\-padright\fR \fIsize\fR" 4
.IX Item "-padright size"
Set right pad band size (in pixels).
.IP "\fB\-padcolor\fR \fIhex_color\fR" 4
.IX Item "-padcolor hex_color"
Set color of padded bands. The value for padcolor is expressed
as a six digit hexadecimal number where the first two digits
represent red, the middle two digits green and last two digits
blue (default = 000000 (black)).
.IP "\fB\-vn\fR" 4
.IX Item "-vn"
Disable video recording.
.IP "\fB\-bt\fR \fItolerance\fR" 4
.IX Item "-bt tolerance"
Set video bitrate tolerance (in bits, default 4000k).
Has a minimum value of: (target_bitrate/target_framerate).
In 1\-pass mode, bitrate tolerance specifies how far ratecontrol is
willing to deviate from the target average bitrate value. This is
not related to min/max bitrate. Lowering tolerance too much has
an adverse effect on quality.
.IP "\fB\-maxrate\fR \fIbitrate\fR" 4
.IX Item "-maxrate bitrate"
Set max video bitrate (in bit/s).
Requires \-bufsize to be set.
.IP "\fB\-minrate\fR \fIbitrate\fR" 4
.IX Item "-minrate bitrate"
Set min video bitrate (in bit/s).
Most useful in setting up a \s-1CBR\s0 encode:
.Sp
.Vb 1
\&        ffmpeg \-i myfile.avi \-b 4000k \-minrate 4000k \-maxrate 4000k \-bufsize 1835k out.m2v
.Ve
.Sp
It is of little use elsewise.
.IP "\fB\-bufsize\fR \fIsize\fR" 4
.IX Item "-bufsize size"
Set video buffer verifier buffer size (in bits).
.IP "\fB\-vcodec\fR \fIcodec\fR" 4
.IX Item "-vcodec codec"
Force video codec to \fIcodec\fR. Use the \f(CW\*(C`copy\*(C'\fR special value to
tell that the raw codec data must be copied as is.
.IP "\fB\-sameq\fR" 4
.IX Item "-sameq"
Use same video quality as source (implies \s-1VBR\s0).
.IP "\fB\-pass\fR \fIn\fR" 4
.IX Item "-pass n"
Select the pass number (1 or 2). It is used to do two-pass
video encoding. The statistics of the video are recorded in the first
pass into a log file (see also the option \-passlogfile),
and in the second pass that log file is used to generate the video
at the exact requested bitrate.
On pass 1, you may just deactivate audio and set output to null,
examples for Windows and Unix:
.Sp
.Vb 2
\&        ffmpeg \-i foo.mov \-vcodec libxvid \-pass 1 \-an \-f rawvideo \-y NUL
\&        ffmpeg \-i foo.mov \-vcodec libxvid \-pass 1 \-an \-f rawvideo \-y /dev/null
.Ve
.IP "\fB\-passlogfile\fR \fIprefix\fR" 4
.IX Item "-passlogfile prefix"
Set two-pass log file name prefix to \fIprefix\fR, the default file name
prefix is ``ffmpeg2pass''. The complete file name will be
\&\fI\s-1PREFIX\-N\s0.log\fR, where N is a number specific to the output
stream.
.IP "\fB\-newvideo\fR" 4
.IX Item "-newvideo"
Add a new video stream to the current output stream.
.IP "\fB\-vlang\fR \fIcode\fR" 4
.IX Item "-vlang code"
Set the \s-1ISO\s0 639 language code (3 letters) of the current video stream.
.Sh "Advanced Video Options"
.IX Subsection "Advanced Video Options"
.IP "\fB\-pix_fmt\fR \fIformat\fR" 4
.IX Item "-pix_fmt format"
Set pixel format. Use 'list' as parameter to show all the supported
pixel formats.
.IP "\fB\-sws_flags\fR \fIflags\fR" 4
.IX Item "-sws_flags flags"
Set SwScaler flags (only available when compiled with swscale support).
.IP "\fB\-g\fR \fIgop_size\fR" 4
.IX Item "-g gop_size"
Set the group of pictures size.
.IP "\fB\-intra\fR" 4
.IX Item "-intra"
Use only intra frames.
.IP "\fB\-vdt\fR \fIn\fR" 4
.IX Item "-vdt n"
Discard threshold.
.IP "\fB\-qscale\fR \fIq\fR" 4
.IX Item "-qscale q"
Use fixed video quantizer scale (\s-1VBR\s0).
.IP "\fB\-qmin\fR \fIq\fR" 4
.IX Item "-qmin q"
minimum video quantizer scale (\s-1VBR\s0)
.IP "\fB\-qmax\fR \fIq\fR" 4
.IX Item "-qmax q"
maximum video quantizer scale (\s-1VBR\s0)
.IP "\fB\-qdiff\fR \fIq\fR" 4
.IX Item "-qdiff q"
maximum difference between the quantizer scales (\s-1VBR\s0)
.IP "\fB\-qblur\fR \fIblur\fR" 4
.IX Item "-qblur blur"
video quantizer scale blur (\s-1VBR\s0) (range 0.0 \- 1.0)
.IP "\fB\-qcomp\fR \fIcompression\fR" 4
.IX Item "-qcomp compression"
video quantizer scale compression (\s-1VBR\s0) (default 0.5).
Constant of ratecontrol equation. Recommended range for default rc_eq: 0.0\-1.0
.IP "\fB\-lmin\fR \fIlambda\fR" 4
.IX Item "-lmin lambda"
minimum video lagrange factor (\s-1VBR\s0)
.IP "\fB\-lmax\fR \fIlambda\fR" 4
.IX Item "-lmax lambda"
max video lagrange factor (\s-1VBR\s0)
.IP "\fB\-mblmin\fR \fIlambda\fR" 4
.IX Item "-mblmin lambda"
minimum macroblock quantizer scale (\s-1VBR\s0)
.IP "\fB\-mblmax\fR \fIlambda\fR" 4
.IX Item "-mblmax lambda"
maximum macroblock quantizer scale (\s-1VBR\s0)
.Sp
These four options (lmin, lmax, mblmin, mblmax) use 'lambda' units,
but you may use the \s-1QP2LAMBDA\s0 constant to easily convert from 'q' units:
.Sp
.Vb 1
\&        ffmpeg \-i src.ext \-lmax 21*QP2LAMBDA dst.ext
.Ve
.IP "\fB\-rc_init_cplx\fR \fIcomplexity\fR" 4
.IX Item "-rc_init_cplx complexity"
initial complexity for single pass encoding
.IP "\fB\-b_qfactor\fR \fIfactor\fR" 4
.IX Item "-b_qfactor factor"
qp factor between P\- and B\-frames
.IP "\fB\-i_qfactor\fR \fIfactor\fR" 4
.IX Item "-i_qfactor factor"
qp factor between P\- and I\-frames
.IP "\fB\-b_qoffset\fR \fIoffset\fR" 4
.IX Item "-b_qoffset offset"
qp offset between P\- and B\-frames
.IP "\fB\-i_qoffset\fR \fIoffset\fR" 4
.IX Item "-i_qoffset offset"
qp offset between P\- and I\-frames
.IP "\fB\-rc_eq\fR \fIequation\fR" 4
.IX Item "-rc_eq equation"
Set rate control equation (default = \f(CW\*(C`tex^qComp\*(C'\fR).
.IP "\fB\-rc_override\fR \fIoverride\fR" 4
.IX Item "-rc_override override"
rate control override for specific intervals
.IP "\fB\-me_method\fR \fImethod\fR" 4
.IX Item "-me_method method"
Set motion estimation method to \fImethod\fR.
Available methods are (from lowest to best quality):
.RS 4
.IP "\fBzero\fR" 4
.IX Item "zero"
Try just the (0, 0) vector.
.IP "\fBphods\fR" 4
.IX Item "phods"
.PD 0
.IP "\fBlog\fR" 4
.IX Item "log"
.IP "\fBx1\fR" 4
.IX Item "x1"
.IP "\fBhex\fR" 4
.IX Item "hex"
.IP "\fBumh\fR" 4
.IX Item "umh"
.IP "\fBepzs\fR" 4
.IX Item "epzs"
.PD
(default method)
.IP "\fBfull\fR" 4
.IX Item "full"
exhaustive search (slow and marginally better than epzs)
.RE
.RS 4
.RE
.IP "\fB\-dct_algo\fR \fIalgo\fR" 4
.IX Item "-dct_algo algo"
Set \s-1DCT\s0 algorithm to \fIalgo\fR. Available values are:
.RS 4
.IP "\fB0\fR" 4
.IX Item "0"
\&\s-1FF_DCT_AUTO\s0 (default)
.IP "\fB1\fR" 4
.IX Item "1"
\&\s-1FF_DCT_FASTINT\s0
.IP "\fB2\fR" 4
.IX Item "2"
\&\s-1FF_DCT_INT\s0
.IP "\fB3\fR" 4
.IX Item "3"
\&\s-1FF_DCT_MMX\s0
.IP "\fB4\fR" 4
.IX Item "4"
\&\s-1FF_DCT_MLIB\s0
.IP "\fB5\fR" 4
.IX Item "5"
\&\s-1FF_DCT_ALTIVEC\s0
.RE
.RS 4
.RE
.IP "\fB\-idct_algo\fR \fIalgo\fR" 4
.IX Item "-idct_algo algo"
Set \s-1IDCT\s0 algorithm to \fIalgo\fR. Available values are:
.RS 4
.IP "\fB0\fR" 4
.IX Item "0"
\&\s-1FF_IDCT_AUTO\s0 (default)
.IP "\fB1\fR" 4
.IX Item "1"
\&\s-1FF_IDCT_INT\s0
.IP "\fB2\fR" 4
.IX Item "2"
\&\s-1FF_IDCT_SIMPLE\s0
.IP "\fB3\fR" 4
.IX Item "3"
\&\s-1FF_IDCT_SIMPLEMMX\s0
.IP "\fB4\fR" 4
.IX Item "4"
\&\s-1FF_IDCT_LIBMPEG2MMX\s0
.IP "\fB5\fR" 4
.IX Item "5"
\&\s-1FF_IDCT_PS2\s0
.IP "\fB6\fR" 4
.IX Item "6"
\&\s-1FF_IDCT_MLIB\s0
.IP "\fB7\fR" 4
.IX Item "7"
\&\s-1FF_IDCT_ARM\s0
.IP "\fB8\fR" 4
.IX Item "8"
\&\s-1FF_IDCT_ALTIVEC\s0
.IP "\fB9\fR" 4
.IX Item "9"
\&\s-1FF_IDCT_SH4\s0
.IP "\fB10\fR" 4
.IX Item "10"
\&\s-1FF_IDCT_SIMPLEARM\s0
.RE
.RS 4
.RE
.IP "\fB\-er\fR \fIn\fR" 4
.IX Item "-er n"
Set error resilience to \fIn\fR.
.RS 4
.IP "\fB1\fR" 4
.IX Item "1"
\&\s-1FF_ER_CAREFUL\s0 (default)
.IP "\fB2\fR" 4
.IX Item "2"
\&\s-1FF_ER_COMPLIANT\s0
.IP "\fB3\fR" 4
.IX Item "3"
\&\s-1FF_ER_AGGRESSIVE\s0
.IP "\fB4\fR" 4
.IX Item "4"
\&\s-1FF_ER_VERY_AGGRESSIVE\s0
.RE
.RS 4
.RE
.IP "\fB\-ec\fR \fIbit_mask\fR" 4
.IX Item "-ec bit_mask"
Set error concealment to \fIbit_mask\fR. \fIbit_mask\fR is a bit mask of
the following values:
.RS 4
.IP "\fB1\fR" 4
.IX Item "1"
\&\s-1FF_EC_GUESS_MVS\s0 (default = enabled)
.IP "\fB2\fR" 4
.IX Item "2"
\&\s-1FF_EC_DEBLOCK\s0 (default = enabled)
.RE
.RS 4
.RE
.IP "\fB\-bf\fR \fIframes\fR" 4
.IX Item "-bf frames"
Use 'frames' B\-frames (supported for \s-1MPEG\-1\s0, \s-1MPEG\-2\s0 and \s-1MPEG\-4\s0).
.IP "\fB\-mbd\fR \fImode\fR" 4
.IX Item "-mbd mode"
macroblock decision
.RS 4
.IP "\fB0\fR" 4
.IX Item "0"
\&\s-1FF_MB_DECISION_SIMPLE:\s0 Use mb_cmp (cannot change it yet in FFmpeg).
.IP "\fB1\fR" 4
.IX Item "1"
\&\s-1FF_MB_DECISION_BITS:\s0 Choose the one which needs the fewest bits.
.IP "\fB2\fR" 4
.IX Item "2"
\&\s-1FF_MB_DECISION_RD:\s0 rate distortion
.RE
.RS 4
.RE
.IP "\fB\-4mv\fR" 4
.IX Item "-4mv"
Use four motion vector by macroblock (\s-1MPEG\-4\s0 only).
.IP "\fB\-part\fR" 4
.IX Item "-part"
Use data partitioning (\s-1MPEG\-4\s0 only).
.IP "\fB\-bug\fR \fIparam\fR" 4
.IX Item "-bug param"
Work around encoder bugs that are not auto-detected.
.IP "\fB\-strict\fR \fIstrictness\fR" 4
.IX Item "-strict strictness"
How strictly to follow the standards.
.IP "\fB\-aic\fR" 4
.IX Item "-aic"
Enable Advanced intra coding (h263+).
.IP "\fB\-umv\fR" 4
.IX Item "-umv"
Enable Unlimited Motion Vector (h263+)
.IP "\fB\-deinterlace\fR" 4
.IX Item "-deinterlace"
Deinterlace pictures.
.IP "\fB\-ilme\fR" 4
.IX Item "-ilme"
Force interlacing support in encoder (\s-1MPEG\-2\s0 and \s-1MPEG\-4\s0 only).
Use this option if your input file is interlaced and you want
to keep the interlaced format for minimum losses.
The alternative is to deinterlace the input stream with
\&\fB\-deinterlace\fR, but deinterlacing introduces losses.
.IP "\fB\-psnr\fR" 4
.IX Item "-psnr"
Calculate \s-1PSNR\s0 of compressed frames.
.IP "\fB\-vstats\fR" 4
.IX Item "-vstats"
Dump video coding statistics to \fIvstats_HHMMSS.log\fR.
.IP "\fB\-vstats_file\fR \fIfile\fR" 4
.IX Item "-vstats_file file"
Dump video coding statistics to \fIfile\fR.
.IP "\fB\-top\fR \fIn\fR" 4
.IX Item "-top n"
top=1/bottom=0/auto=\-1 field first
.IP "\fB\-dc\fR \fIprecision\fR" 4
.IX Item "-dc precision"
Intra_dc_precision.
.IP "\fB\-vtag\fR \fIfourcc/tag\fR" 4
.IX Item "-vtag fourcc/tag"
Force video tag/fourcc.
.IP "\fB\-qphist\fR" 4
.IX Item "-qphist"
Show \s-1QP\s0 histogram.
.IP "\fB\-vbsf\fR \fIbitstream_filter\fR" 4
.IX Item "-vbsf bitstream_filter"
Bitstream filters available are \*(L"dump_extra\*(R", \*(L"remove_extra\*(R", \*(L"noise\*(R", \*(L"h264_mp4toannexb\*(R", \*(L"imxdump\*(R", \*(L"mjpegadump\*(R".
.Sp
.Vb 1
\&        ffmpeg \-i h264.mp4 \-vcodec copy \-vbsf h264_mp4toannexb \-an out.h264
.Ve
.Sh "Audio Options"
.IX Subsection "Audio Options"
.IP "\fB\-aframes\fR \fInumber\fR" 4
.IX Item "-aframes number"
Set the number of audio frames to record.
.IP "\fB\-ar\fR \fIfreq\fR" 4
.IX Item "-ar freq"
Set the audio sampling frequency (default = 44100 Hz).
.IP "\fB\-ab\fR \fIbitrate\fR" 4
.IX Item "-ab bitrate"
Set the audio bitrate in bit/s (default = 64k).
.IP "\fB\-ac\fR \fIchannels\fR" 4
.IX Item "-ac channels"
Set the number of audio channels (default = 1).
.IP "\fB\-an\fR" 4
.IX Item "-an"
Disable audio recording.
.IP "\fB\-acodec\fR \fIcodec\fR" 4
.IX Item "-acodec codec"
Force audio codec to \fIcodec\fR. Use the \f(CW\*(C`copy\*(C'\fR special value to
specify that the raw codec data must be copied as is.
.IP "\fB\-newaudio\fR" 4
.IX Item "-newaudio"
Add a new audio track to the output file. If you want to specify parameters,
do so before \f(CW\*(C`\-newaudio\*(C'\fR (\f(CW\*(C`\-acodec\*(C'\fR, \f(CW\*(C`\-ab\*(C'\fR, etc..).
.Sp
Mapping will be done automatically, if the number of output streams is equal to
the number of input streams, else it will pick the first one that matches. You
can override the mapping using \f(CW\*(C`\-map\*(C'\fR as usual.
.Sp
Example:
.Sp
.Vb 1
\&        ffmpeg \-i file.mpg \-vcodec copy \-acodec ac3 \-ab 384k test.mpg \-acodec mp2 \-ab 192k \-newaudio
.Ve
.IP "\fB\-alang\fR \fIcode\fR" 4
.IX Item "-alang code"
Set the \s-1ISO\s0 639 language code (3 letters) of the current audio stream.
.Sh "Advanced Audio options:"
.IX Subsection "Advanced Audio options:"
.IP "\fB\-atag\fR \fIfourcc/tag\fR" 4
.IX Item "-atag fourcc/tag"
Force audio tag/fourcc.
.IP "\fB\-absf\fR \fIbitstream_filter\fR" 4
.IX Item "-absf bitstream_filter"
Bitstream filters available are \*(L"dump_extra\*(R", \*(L"remove_extra\*(R", \*(L"noise\*(R", \*(L"mp3comp\*(R", \*(L"mp3decomp\*(R".
.Sh "Subtitle options:"
.IX Subsection "Subtitle options:"
.IP "\fB\-scodec\fR \fIcodec\fR" 4
.IX Item "-scodec codec"
Force subtitle codec ('copy' to copy stream).
.IP "\fB\-newsubtitle\fR" 4
.IX Item "-newsubtitle"
Add a new subtitle stream to the current output stream.
.IP "\fB\-slang\fR \fIcode\fR" 4
.IX Item "-slang code"
Set the \s-1ISO\s0 639 language code (3 letters) of the current subtitle stream.
.IP "\fB\-sn\fR" 4
.IX Item "-sn"
Disable subtitle recording.
.IP "\fB\-sbsf\fR \fIbitstream_filter\fR" 4
.IX Item "-sbsf bitstream_filter"
Bitstream filters available are \*(L"mov2textsub\*(R", \*(L"text2movsub\*(R".
.Sp
.Vb 1
\&        ffmpeg \-i file.mov \-an \-vn \-sbsf mov2textsub \-scodec copy \-f rawvideo sub.txt
.Ve
.Sh "Audio/Video grab options"
.IX Subsection "Audio/Video grab options"
.IP "\fB\-vc\fR \fIchannel\fR" 4
.IX Item "-vc channel"
Set video grab channel (\s-1DV1394\s0 only).
.IP "\fB\-tvstd\fR \fIstandard\fR" 4
.IX Item "-tvstd standard"
Set television standard (\s-1NTSC\s0, \s-1PAL\s0 (\s-1SECAM\s0)).
.IP "\fB\-isync\fR" 4
.IX Item "-isync"
Synchronize read on input.
.Sh "Advanced options"
.IX Subsection "Advanced options"
.IP "\fB\-map\fR \fIinput_stream_id\fR\fB[:\fR\fIsync_stream_id\fR\fB]\fR" 4
.IX Item "-map input_stream_id[:sync_stream_id]"
Set stream mapping from input streams to output streams.
Just enumerate the input streams in the order you want them in the output.
\&\fIsync_stream_id\fR if specified sets the input stream to sync
against.
.IP "\fB\-map_meta_data\fR \fIoutfile\fR\fB:\fR\fIinfile\fR" 4
.IX Item "-map_meta_data outfile:infile"
Set meta data information of \fIoutfile\fR from \fIinfile\fR.
.IP "\fB\-debug\fR" 4
.IX Item "-debug"
Print specific debug info.
.IP "\fB\-benchmark\fR" 4
.IX Item "-benchmark"
Add timings for benchmarking.
.IP "\fB\-dump\fR" 4
.IX Item "-dump"
Dump each input packet.
.IP "\fB\-hex\fR" 4
.IX Item "-hex"
When dumping packets, also dump the payload.
.IP "\fB\-bitexact\fR" 4
.IX Item "-bitexact"
Only use bit exact algorithms (for codec testing).
.IP "\fB\-ps\fR \fIsize\fR" 4
.IX Item "-ps size"
Set \s-1RTP\s0 payload size in bytes.
.IP "\fB\-re\fR" 4
.IX Item "-re"
Read input at native frame rate. Mainly used to simulate a grab device.
.IP "\fB\-loop_input\fR" 4
.IX Item "-loop_input"
Loop over the input stream. Currently it works only for image
streams. This option is used for automatic FFserver testing.
.IP "\fB\-loop_output\fR \fInumber_of_times\fR" 4
.IX Item "-loop_output number_of_times"
Repeatedly loop output for formats that support looping such as animated \s-1GIF\s0
(0 will loop the output infinitely).
.IP "\fB\-threads\fR \fIcount\fR" 4
.IX Item "-threads count"
Thread count.
.IP "\fB\-vsync\fR \fIparameter\fR" 4
.IX Item "-vsync parameter"
Video sync method. Video will be stretched/squeezed to match the timestamps,
it is done by duplicating and dropping frames. With \-map you can select from
which stream the timestamps should be taken. You can leave either video or
audio unchanged and sync the remaining stream(s) to the unchanged one.
.IP "\fB\-async\fR \fIsamples_per_second\fR" 4
.IX Item "-async samples_per_second"
Audio sync method. \*(L"Stretches/squeezes\*(R" the audio stream to match the timestamps,
the parameter is the maximum samples per second by which the audio is changed.
\&\-async 1 is a special case where only the start of the audio stream is corrected
without any later correction.
.IP "\fB\-copyts\fR" 4
.IX Item "-copyts"
Copy timestamps from input to output.
.IP "\fB\-shortest\fR" 4
.IX Item "-shortest"
Finish encoding when the shortest input stream ends.
.IP "\fB\-dts_delta_threshold\fR" 4
.IX Item "-dts_delta_threshold"
Timestamp discontinuity delta threshold.
.IP "\fB\-muxdelay\fR \fIseconds\fR" 4
.IX Item "-muxdelay seconds"
Set the maximum demux-decode delay.
.IP "\fB\-muxpreload\fR \fIseconds\fR" 4
.IX Item "-muxpreload seconds"
Set the initial demux-decode delay.
.Sh "Preset files"
.IX Subsection "Preset files"
A preset file contains a sequence of \fIoption\fR=\fIvalue\fR pairs,
one for each line, specifying a sequence of options which would be
awkward to specify on the command line. Lines starting with the hash
('#') character are ignored and are used to provide comments. Check
the \fIffpresets\fR directory in the FFmpeg source tree for examples.
.PP
Preset files are specified with the \f(CW\*(C`vpre\*(C'\fR, \f(CW\*(C`apre\*(C'\fR,
\&\f(CW\*(C`spre\*(C'\fR, and \f(CW\*(C`fpre\*(C'\fR options. The \f(CW\*(C`fpre\*(C'\fR option takes the
filename of the preset instead of a preset name as input and can be
used for any kind of codec. For the \f(CW\*(C`vpre\*(C'\fR, \f(CW\*(C`apre\*(C'\fR, and
\&\f(CW\*(C`spre\*(C'\fR options, the options specified in a preset file are
applied to the currently selected codec of the same type as the preset
option.
.PP
The argument passed to the \f(CW\*(C`vpre\*(C'\fR, \f(CW\*(C`apre\*(C'\fR, and \f(CW\*(C`spre\*(C'\fR
preset options identifies the preset file to use according to the
following rules:
.PP
First ffmpeg searches for a file named \fIarg\fR.ffpreset in the
directories \fI\f(CI$HOME\fI/.ffmpeg\fR, and in the datadir defined at
configuration time (usually \fIPREFIX/share/ffmpeg\fR) in that
order. For example, if the argument is \f(CW\*(C`libx264\-max\*(C'\fR, it will
search for the file \fIlibx264\-max.ffpreset\fR.
.PP
If no such file is found, then ffmpeg will search for a file named
\&\fIcodec_name\fR\-\fIarg\fR.ffpreset in the above-mentioned
directories, where \fIcodec_name\fR is the name of the codec to which
the preset file options will be applied. For example, if you select
the video codec with \f(CW\*(C`\-vcodec libx264\*(C'\fR and use \f(CW\*(C`\-vpre max\*(C'\fR,
then it will search for the file \fIlibx264\-max.ffpreset\fR.
.PP
\&\f(CW@anchor\fR{FFmpeg formula evaluator}
.Sh "FFmpeg formula evaluator"
.IX Subsection "FFmpeg formula evaluator"
When evaluating a rate control string, FFmpeg uses an internal formula
evaluator.
.PP
The following binary operators are available: \f(CW\*(C`+\*(C'\fR, \f(CW\*(C`\-\*(C'\fR,
\&\f(CW\*(C`*\*(C'\fR, \f(CW\*(C`/\*(C'\fR, \f(CW\*(C`^\*(C'\fR.
.PP
The following unary operators are available: \f(CW\*(C`+\*(C'\fR, \f(CW\*(C`\-\*(C'\fR,
\&\f(CW\*(C`(...)\*(C'\fR.
.PP
The following statements are available: \f(CW\*(C`ld\*(C'\fR, \f(CW\*(C`st\*(C'\fR,
\&\f(CW\*(C`while\*(C'\fR.
.PP
The following functions are available:
.IP "\fIsinh(x)\fR" 4
.IX Item "sinh(x)"
.PD 0
.IP "\fIcosh(x)\fR" 4
.IX Item "cosh(x)"
.IP "\fItanh(x)\fR" 4
.IX Item "tanh(x)"
.IP "\fIsin(x)\fR" 4
.IX Item "sin(x)"
.IP "\fIcos(x)\fR" 4
.IX Item "cos(x)"
.IP "\fItan(x)\fR" 4
.IX Item "tan(x)"
.IP "\fIatan(x)\fR" 4
.IX Item "atan(x)"
.IP "\fIasin(x)\fR" 4
.IX Item "asin(x)"
.IP "\fIacos(x)\fR" 4
.IX Item "acos(x)"
.IP "\fIexp(x)\fR" 4
.IX Item "exp(x)"
.IP "\fIlog(x)\fR" 4
.IX Item "log(x)"
.IP "\fIabs(x)\fR" 4
.IX Item "abs(x)"
.IP "\fIsquish(x)\fR" 4
.IX Item "squish(x)"
.IP "\fIgauss(x)\fR" 4
.IX Item "gauss(x)"
.IP "\fImod(x, y)\fR" 4
.IX Item "mod(x, y)"
.IP "\fImax(x, y)\fR" 4
.IX Item "max(x, y)"
.IP "\fImin(x, y)\fR" 4
.IX Item "min(x, y)"
.IP "\fIeq(x, y)\fR" 4
.IX Item "eq(x, y)"
.IP "\fIgte(x, y)\fR" 4
.IX Item "gte(x, y)"
.IP "\fIgt(x, y)\fR" 4
.IX Item "gt(x, y)"
.IP "\fIlte(x, y)\fR" 4
.IX Item "lte(x, y)"
.IP "\fIlt(x, y)\fR" 4
.IX Item "lt(x, y)"
.IP "\fIbits2qp(bits)\fR" 4
.IX Item "bits2qp(bits)"
.IP "\fIqp2bits(qp)\fR" 4
.IX Item "qp2bits(qp)"
.PD
.PP
The following constants are available:
.IP "\fI\s-1PI\s0\fR" 4
.IX Item "PI"
.PD 0
.IP "\fIE\fR" 4
.IX Item "E"
.IP "\fIiTex\fR" 4
.IX Item "iTex"
.IP "\fIpTex\fR" 4
.IX Item "pTex"
.IP "\fItex\fR" 4
.IX Item "tex"
.IP "\fImv\fR" 4
.IX Item "mv"
.IP "\fIfCode\fR" 4
.IX Item "fCode"
.IP "\fIiCount\fR" 4
.IX Item "iCount"
.IP "\fImcVar\fR" 4
.IX Item "mcVar"
.IP "\fIvar\fR" 4
.IX Item "var"
.IP "\fIisI\fR" 4
.IX Item "isI"
.IP "\fIisP\fR" 4
.IX Item "isP"
.IP "\fIisB\fR" 4
.IX Item "isB"
.IP "\fIavgQP\fR" 4
.IX Item "avgQP"
.IP "\fIqComp\fR" 4
.IX Item "qComp"
.IP "\fIavgIITex\fR" 4
.IX Item "avgIITex"
.IP "\fIavgPITex\fR" 4
.IX Item "avgPITex"
.IP "\fIavgPPTex\fR" 4
.IX Item "avgPPTex"
.IP "\fIavgBPTex\fR" 4
.IX Item "avgBPTex"
.IP "\fIavgTex\fR" 4
.IX Item "avgTex"
.PD
.SH "EXAMPLES"
.IX Header "EXAMPLES"
.Sh "Video and Audio grabbing"
.IX Subsection "Video and Audio grabbing"
FFmpeg can grab video and audio from devices given that you specify the input
format and device.
.PP
.Vb 1
\&        ffmpeg \-f oss \-i /dev/dsp \-f video4linux2 \-i /dev/video0 /tmp/out.mpg
.Ve
.PP
Note that you must activate the right video source and channel before
launching FFmpeg with any \s-1TV\s0 viewer such as xawtv
(<\fBhttp://linux.bytesex.org/xawtv/\fR>) by Gerd Knorr. You also
have to set the audio recording levels correctly with a
standard mixer.
.Sh "X11 grabbing"
.IX Subsection "X11 grabbing"
FFmpeg can grab the X11 display.
.PP
.Vb 1
\&        ffmpeg \-f x11grab \-s cif \-i :0.0 /tmp/out.mpg
.Ve
.PP
0.0 is display.screen number of your X11 server, same as
the \s-1DISPLAY\s0 environment variable.
.PP
.Vb 1
\&        ffmpeg \-f x11grab \-s cif \-i :0.0+10,20 /tmp/out.mpg
.Ve
.PP
0.0 is display.screen number of your X11 server, same as the \s-1DISPLAY\s0 environment
variable. 10 is the x\-offset and 20 the y\-offset for the grabbing.
.Sh "Video and Audio file format conversion"
.IX Subsection "Video and Audio file format conversion"
* FFmpeg can use any supported file format and protocol as input:
.PP
Examples:
.PP
* You can use \s-1YUV\s0 files as input:
.PP
.Vb 1
\&        ffmpeg \-i /tmp/test%d.Y /tmp/out.mpg
.Ve
.PP
It will use the files:
.PP
.Vb 2
\&        /tmp/test0.Y, /tmp/test0.U, /tmp/test0.V,
\&        /tmp/test1.Y, /tmp/test1.U, /tmp/test1.V, etc...
.Ve
.PP
The Y files use twice the resolution of the U and V files. They are
raw files, without header. They can be generated by all decent video
decoders. You must specify the size of the image with the \fB\-s\fR option
if FFmpeg cannot guess it.
.PP
* You can input from a raw \s-1YUV420P\s0 file:
.PP
.Vb 1
\&        ffmpeg \-i /tmp/test.yuv /tmp/out.avi
.Ve
.PP
test.yuv is a file containing raw \s-1YUV\s0 planar data. Each frame is composed
of the Y plane followed by the U and V planes at half vertical and
horizontal resolution.
.PP
* You can output to a raw \s-1YUV420P\s0 file:
.PP
.Vb 1
\&        ffmpeg \-i mydivx.avi hugefile.yuv
.Ve
.PP
* You can set several input files and output files:
.PP
.Vb 1
\&        ffmpeg \-i /tmp/a.wav \-s 640x480 \-i /tmp/a.yuv /tmp/a.mpg
.Ve
.PP
Converts the audio file a.wav and the raw \s-1YUV\s0 video file a.yuv
to \s-1MPEG\s0 file a.mpg.
.PP
* You can also do audio and video conversions at the same time:
.PP
.Vb 1
\&        ffmpeg \-i /tmp/a.wav \-ar 22050 /tmp/a.mp2
.Ve
.PP
Converts a.wav to \s-1MPEG\s0 audio at 22050 Hz sample rate.
.PP
* You can encode to several formats at the same time and define a
mapping from input stream to output streams:
.PP
.Vb 1
\&        ffmpeg \-i /tmp/a.wav \-ab 64k /tmp/a.mp2 \-ab 128k /tmp/b.mp2 \-map 0:0 \-map 0:0
.Ve
.PP
Converts a.wav to a.mp2 at 64 kbits and to b.mp2 at 128 kbits. '\-map
file:index' specifies which input stream is used for each output
stream, in the order of the definition of output streams.
.PP
* You can transcode decrypted VOBs:
.PP
.Vb 1
\&        ffmpeg \-i snatch_1.vob \-f avi \-vcodec mpeg4 \-b 800k \-g 300 \-bf 2 \-acodec libmp3lame \-ab 128k snatch.avi
.Ve
.PP
This is a typical \s-1DVD\s0 ripping example; the input is a \s-1VOB\s0 file, the
output an \s-1AVI\s0 file with \s-1MPEG\-4\s0 video and \s-1MP3\s0 audio. Note that in this
command we use B\-frames so the \s-1MPEG\-4\s0 stream is DivX5 compatible, and
\&\s-1GOP\s0 size is 300 which means one intra frame every 10 seconds for 29.97fps
input video. Furthermore, the audio stream is MP3\-encoded so you need
to enable \s-1LAME\s0 support by passing \f(CW\*(C`\-\-enable\-libmp3lame\*(C'\fR to configure.
The mapping is particularly useful for \s-1DVD\s0 transcoding
to get the desired audio language.
.PP
\&\s-1NOTE:\s0 To see the supported input formats, use \f(CW\*(C`ffmpeg \-formats\*(C'\fR.
.PP
* You can extract images from a video, or create a video from many images:
.PP
For extracting images from a video:
.PP
.Vb 1
\&        ffmpeg \-i foo.avi \-r 1 \-s WxH \-f image2 foo\-%03d.jpeg
.Ve
.PP
This will extract one video frame per second from the video and will
output them in files named \fIfoo\-001.jpeg\fR, \fIfoo\-002.jpeg\fR,
etc. Images will be rescaled to fit the new WxH values.
.PP
If you want to extract just a limited number of frames, you can use the
above command in combination with the \-vframes or \-t option, or in
combination with \-ss to start extracting from a certain point in time.
.PP
For creating a video from many images:
.PP
.Vb 1
\&        ffmpeg \-f image2 \-i foo\-%03d.jpeg \-r 12 \-s WxH foo.avi
.Ve
.PP
The syntax \f(CW\*(C`foo\-%03d.jpeg\*(C'\fR specifies to use a decimal number
composed of three digits padded with zeroes to express the sequence
number. It is the same syntax supported by the C printf function, but
only formats accepting a normal integer are suitable.
.PP
* You can put many streams of the same type in the output:
.PP
.Vb 1
\&        ffmpeg \-i test1.avi \-i test2.avi \-vcodec copy \-acodec copy \-vcodec copy \-acodec copy test12.avi \-newvideo \-newaudio
.Ve
.PP
In addition to the first video and audio streams, the resulting
output file \fItest12.avi\fR will contain the second video
and the second audio stream found in the input streams list.
.PP
The \f(CW\*(C`\-newvideo\*(C'\fR, \f(CW\*(C`\-newaudio\*(C'\fR and \f(CW\*(C`\-newsubtitle\*(C'\fR
options have to be specified immediately after the name of the output
file to which you want to add them.
.SH "SEE ALSO"
.IX Header "SEE ALSO"
\&\fIffserver\fR\|(1), \fIffplay\fR\|(1) and the \s-1HTML\s0 documentation of \fIffmpeg\fR.
.SH "AUTHOR"
.IX Header "AUTHOR"
Fabrice Bellard
